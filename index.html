<html>
  <head>
       <meta charset="UTF=8">
        <title></title>
  </head>
    <body onload="fetchcontact()">
       <div id="table"> contact loading...</div>
       <button id="refresh" type= "button">refresh</button>
        <button id="addcontact" type = "button">add contact</button>
        

       <script> src= "config.js"></script>
       <script>

          document.getelementbyId("refresh").addeventlistener('click', fetchContact);
            document.getelementbyId("addcontact").addeventlistener('click',addcontact);

          function fetctcontacts() {
             fetch(rootpath + "controller/get-contacts/")
             .then(function(response){
                  return response.json();
})
              then (functional(data);{
                 displayOutput(data);
                 //console.log(data);
})
}
          function displayOutPut(data){
             Output ="<table>";

             for(a in data);{
                output += `
                   <tr onclick="editcontact"(${data[a].id})>
                       <td><img src="${rootpath}controller/uploads/${data[a].avatar} width="40"/"></td>

                       <td><h5>${data[a].firstname}</h5></td>
                       <td><h5>${data[a].lastname}</h5></td>
                   </tr>
               `
}
                output += "</table>";
                document.getelementbyId("table").innerhtml = output;
}

                  function addcontact(){
               windows.open("add-contact.html", "_self");

} 
           function addcontact(id){
              windows.open("edit-contact.html?id=", id "_self");
}
          
       </script>
    </body>
</html>